/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'com.boomi.connector' version "${boomiConnectorVersion}"
    id "net.researchgate.release" version "${releasePluginVersion}"
    id "jacoco"
}

connector {
    sdkVersion "${boomiSdkVersion}"
    className 'com.boomi.connector.dellome.DellOMEConnector'
}

repositories {
    mavenCentral()
}

dependencies {
    api(
            [group: "com.boomi.connsdk", name: "connector-sdk-api", version: "${boomiSdkVersion}"],
            [group: "com.boomi.connsdk", name: "connector-sdk-util", version: "${boomiSdkVersion}"],
            [group: "com.fasterxml.jackson.core", name: "jackson-core", version: "${jacksonVersion}"],
            [group: "com.fasterxml.jackson.core", name: "jackson-databind", version: "${jacksonVersion}"],
    )

    api ('commons-codec:commons-codec:1.8'){
        version {
            strictly '1.8'
        }
    }

    api files('lib/boomi-util-2.3.8.jar')

    testImplementation(
            [group: "com.boomi.connsdk", name: "connector-sdk-test-util", version: "${boomiSdkVersion}"],
    )
}
java.sourceCompatibility = 1.8
java.targetCompatibility = 1.8

test {
    finalizedBy jacocoTestReport
}
jacocoTestReport {
    reports {
        xml.required = true
    }
}

release {
    preTagCommitMessage = '[Gradle Release Plugin] - release tag: '
    newVersionCommitMessage = '[skip ci] [Gradle Release Plugin] - increment version for next development iteration: '
    buildTasks = ['build']
    git {
        requireBranch.set('master')
        pushOptions.set(['--dry-run'])
    }
}
